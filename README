ABOUT BATV-TOOLS

batv-tools implements Bounce Address Tag Validation, a system
for filtering backscatter.  Briefly, BATV works as follows:

  1. The envelope sender of all outgoing mail is rewritten ("signed")
     to contain a cryptographic token.  If the message bounces,
     it is bounced to this address.

  2. The envelope recipient of all incoming bounces is checked
     for a valid token.  If a bounce has a missing
     or invalid token, it's obviously not in reply to a real
     message and can be filtered.

BATV is described by an Internet Draft which was last revised in
2008.  batv-tools implements the draft standard, but also supports
an alternative address meta-syntax based on sub-addressing, described below.

batv-tools provides both a milter (batv-milter) and a collection
of standalone tools (batv-sign, batv-validate, batv-sendmail) that
do signing and validation.  The standalone tools enable individual
users to use BATV without the involvement of their system administrators.


CURRENT STATUS

The current version of batv-tools is 0.2, released on 2013-03-13.
batv-tools aims to be bug-free and reliable, meaning it shouldn't crash,
malfunction, or do horrible things to your mail.  However, it has not
yet reached maturity, meaning it is not as documented, featureful, or
easy-to-use as it should be.  Additionally, we may make
backwards-incompatible changes before batv-tools reaches version 1.0.

Testing is currently focused on discovering gotchas with batv-tools'
design and identifying ways to reduce friction when using batv-tools.


BUILDING BATV-TOOLS

Run 'make'.  To build only the standalone tools (and not the milter),
run 'make all-tools'.


DEPENDENCIES

  * OpenSSL
  * libmilter (batv-milter only)

To use the milter, you need a milter-compatible MTA, such as Postfix
or sendmail.

To build you need a C++ compiler (such as gcc) and development
headers for OpenSSL and libmilter.


HOW IT WORKS

Outgoing mail is passed through either batv-milter or batv-sign.  If a BATV key
exists for the envelope sender, the envelope sender is rewritten to be a signed
BATV address.

Incoming mail is passed through either batv-milter or batv-validate.  If it's
addressed to a BATV address, the address is validated, and if the validation
is successful, the address is rewritten to the original non-BATV address.
The result of the validation ('valid' or 'invalid') is placed in the X-Batv-Status
header.

batv-tools does not itself discard or reject any mail.  It's up to the user to filter
any bounce (typically identified by a null envelope sender) which lacks a
'X-Batv-Status: valid' header.  See doc/filtering.txt for documentation and examples.


FURTHER DOCUMENTATION AND EXAMPLES

See files the 'doc' sub-directory.
